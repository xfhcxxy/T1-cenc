
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="./img/favicon.ico" />
    <!-- <link rel="stylesheet" href="./fonts/font.css" /> -->
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./css/jq22.css" />
    <title>对中国地震台网进行大数据分析</title>
    <style>
      .BMap_scaleTxt{
        color: #fff!important;
      }
      button{
	            background-color:#6f6af6;
	            color:black;
	            width: 80px;
	            height: 20px;
	            border:0;
	            font-size: 16px;
	            box-sizing: content-box;
               border-radius: 5px;
            }
            button:hover{
	            background-color: #a54b4a;
            }
    </style>
  </head>
  <body>
    <div class="main" id="appIndex">
      <div class="header">
        <img
          style="width: 80px;height: 84px;margin-right: 20px;"
          src="img/logo.png"
        />
        <img src="img/zgdztwdsjpt.png" alt="对中国地震台网进行大数据分析" />
        <div class="dateBox">
          <span id="time"
            >{{ year }}-{{ month }}-{{ date }}&nbsp;&nbsp; {{ hour }}:{{
              minute
            }}:{{ second }}&nbsp;&nbsp; {{ strDate }}
          </span>
        </div>
      </div>
      <div class="content">
        <div class="leftBox col-md-1">
          <div style="width:100px ;height: 400px;" class="pingfen">
            <div>
              <div class="pfTitle">
                <img src="img/aqpf.png"/>
                <span class="titleText">地图展示</span>
              </div>
              <button onclick="change_to_pot_all_pot()">点图</button>
              <button onclick="change_to_pot_market_pot()">带标记点图</button>
              <button onclick="change_to_heat_map_static()">静态热力图</button>
              <button onclick="change_to_heat_map_dynamic()">动态热力图</button>
            </div>
          </div>
          <div style="width:100px ;height: 400px;" class="paimin">
            <div>
              <div class="pfTitle" style="margin-bottom: 30px;">
                <img style="margin-right: 10px;" src="img/jzaqpf.png" alt="更多资源：https://gitee.com/iGaoWei/big-data-view" />
                <span class="titleText">统计图表</span>
              </div>
              <button onclick="change_to_line_time_to_num()">时间与地震次数关系折线图</button>
              <button onclick="change_to_line_m_to_num()">震级与地震次数关系折线图</button>
              <button onclick="change_to_word_cloud()">震源地点云图</button>
              <button onclick="change_to_pie_m_to_num()">震级饼图</button>
            </div>
          </div>
          <div class="top10">
            <div>
              <div class="pfTitle" style="margin-bottom: 30px;">
                <img style="margin-right: 10px;" src="img/aqyh.png"/>
                <span class="titleText">地震发生地TOP10</span>
              </div>
              <img
                style="display: block;margin: auto;width: 80%;height: 75%;"
                src="img/aqyhtop100.png"
                alt="更多资源：https://gitee.com/iGaoWei/big-data-view"
              />
            </div>
          </div>
        </div>
        <div class="middleBox col-md-8">
          <!-- <div class="baiduMap">
            <div id="container"></div>
          </div> -->
          <iframe id="on_show" src="python/map/heat_map_dynamic.html" width="1200px" height="700px" scrolling="No"></iframe>
        </div>
        <div class="rightBox col-md-3">
          <div class="weihutj" >
            <div>
              <div style="margin-left: 27px;" class="pfTitle">
                <img style="margin-right: 10px;" src="img/whtj.png" alt="更多资源：https://gitee.com/iGaoWei/big-data-view" />
                <span class="titleText">历史查询</span>
              </div>
              <form id="frm" action method="post" class="inquiry-form" target="_blank">
                <div class="input-group">
                  <label for>时间:</label>
                  <input name="start" id="start" class="Wdate" style="width: 90px" type="text" onfocus="WdatePicker({lang:'zh-cn'})">
                  "至"
                  <input name="start" id="end" class="Wdate" style="width: 90px" type="text" onfocus="WdatePicker({lang:'zh-cn'})">
                </div>
                <div class="input-group">
                  <label for>纬度：</label>
                  "大于 "
                  <input type="text" value name="lat1" class="span1" id="lat1">
                  "小于 "
                  <input type="text" value name="lat2" class="span1" id="lat2">
                  <span style="margin-right: 60px"> 单位：度 范围：-90至90</span>
                </div>
                <div class="input-group">
                  <label for>经度：</label>
                  "大于 "
                  <input type="text" value name="lon1" class="span1" id="lon1">
                  "小于 "
                  <input type="text" value name="lon2" class="span1" id="lon2">
                  <span style="margin-right: 60px"> 单位：度 范围：-180至180</span>
                </div>
                <div class="input-group">
                  <label for>深度：</label>
                  "大于 "
                  <input type="text" value name="dep1" class="span1" id="dep1">
                  "小于 "
                  <input type="text" value name="dep2" class="span1" id="dep2">
                  <span style="margin-right: 60px"> 单位：千米</span>
                </div>
                <div class="input-group">
                  <label for>震级：</label>
                  "大于 "
                  <input type="text" value name="m1" class="span1" id="m1">
                  "小于 "
                  <input type="text" value name="m2" class="span1" id="m2">
                  <button type="button" onclick="open_draw()" >查询</button>
                  <!--<a href="myprotocol:// -$('#m1').val()" >查询</a> -->
                </div>
                <div class="input-group">
                  <button type="button" onclick="update_data()">更新数据</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="js/WdatePicker/WdatePicker.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/vue.min.js"></script>
    <script src="js/echarts.min.js"></script>
    <script src="js/walden.js"></script>
    <script src="js/roma.js"></script>
    <script src="js/jquery.countUp.js"></script>
    <script
      type="text/javascript"
      src="https://api.map.baidu.com/api?v=2.0&ak=2YCQxbGampc7M1pFsKWNiwpS5F7RKVRt&s=1"
    ></script>
    <script src="js/fontscroll.js"></script>
    <script src="js/main.js"></script>
    <script src="js/echart.js"></script>
    <script type="text/javascript">
      var markerArr = [

{
  point: "103.850585,36.069335",
},

{
   point: "103.86812,36.063267",
 },
 {
   point: "103.856047,36.042024",
 },
 {
  point: "103.841674,36.067235",
},

{
   point: "103.953207,36.031751",
 },
 {
   point: "103.801573,36.073886",
 },
 {
  point: "103.819108,36.068168",
},

{
   point: "103.715954,36.099723",
 },
 {
   point: "103.716573,36.101553",
 },
 {
  point: "103.708129,36.100725",
},

{
   point: "103.712378,36.10171",
 },
 {
   point: "103.711467,36.103415",
 },
 {
  point: "103.70226,36.102388",
},

{
   point: "103.714764,36.100639",
 },
 {
   point: "103.700535,36.110261",
 }

];

var markerArr1 = [

{
  point: "103.865245,36.061166",
},

{
   point: "103.773259,36.077037",
 },
 {
   point: "103.910664,36.05323",
 },
 {
  point: "103.768085,36.108768",
},

{
   point: "103.689896,36.107835",
 },
 {
   point: "103.841099,36.074236",
 },
 {
  point: "103.839949,36.056965",
},

{
   point: "103.886517,36.065368",
 },
 {
   point: "103.815228,36.091504",
 },
 {
  point: "103.870995,36.026147",
},

];

var markerArr2 = [

{
  point: "103.784757,36.059533",
},

{
   point: "103.754862,36.067235",
 },
 {
   point: "103.779008,36.135589",
 },
 {
  point: "103.839374,36.095704",
},

{
   point: "103.693633,36.116932",
 },
 {
   point: "103.946021,36.034553",
 },
 {
  point: "103.967868,36.00466",
},

{
   point: "103.679835,36.114833",
 },
 {
   point: "103.977641,36.055564",
 },
 {
  point: "103.856334,36.060233",
},

];
      function change_to_pot_all_pot(){
        document.getElementById('on_show').src="./python/map/pot_all_pot.html"
      }
      function change_to_pot_market_pot(){
        document.getElementById('on_show').src="./python/map/pot_market_pot.html"
      }
      function change_to_heat_map_static(){
        document.getElementById('on_show').src="./python/map/heat_map_static.html"
      }
      function change_to_heat_map_dynamic(){
        document.getElementById('on_show').src="./python/map/heat_map_dynamic.html"
      }
      function change_to_line_time_to_num(){
        document.getElementById('on_show').src="./python/map/line_time_to_num.html"
      }
      function change_to_line_m_to_num(){
        document.getElementById('on_show').src="./python/map/line_m_to_num.html"
      }
      function change_to_word_cloud(){
        document.getElementById('on_show').src="./python/map/word_cloud.html"
      }
      function change_to_pie_m_to_num(){
        document.getElementById('on_show').src="./python/map/pie_m_to_num.html"
      }
      function open_draw(){
        var com = "myprotocol://"+"&-"+$('#m1').val()+"&-"+$('#m2').val()+"&-"+$('#start').val()+"&-"+
                                      $('#end').val()+"&-"+$('#lat1').val()+"&-"+$('#lat2').val()+"&-"+
                                      $('#lon1').val()+"&-"+$('#lon2').val()+"&-"+ $('#dep1').val()+"&-"+$('#dep2').val();

        window.open(com, '_self');
      }
      function update_data(){
        window.open("myprotocol-main://", '_self');
      }
      var map = new BMap.Map('container')
      // 创建地图实例
      var point = new BMap.Point(103.71878, 36.10396)
      // 创建点坐标
      map.centerAndZoom(point, 15)
      // 初始化地图，设置中心点坐标和地图级别
      map.enableScrollWheelZoom(true)
      var ctrlSca = new window.BMap.ScaleControl({
                                                anchor: BMAP_ANCHOR_BOTTOM_RIGHT
                                            });
                                           map.addControl(ctrlSca);
      for(var i = 0; i < markerArr.length; i++) {
                                                      var p0 = markerArr[i].point.split(",")[0];
                                                      var p1 = markerArr[i].point.split(",")[1];
                                                      var maker = addMarker(new window.BMap.Point(p0, p1), i);

                                             }

                                             for(var i = 0; i < markerArr1.length; i++) {
                                                      var p0 = markerArr1[i].point.split(",")[0];
                                                      var p1 = markerArr1[i].point.split(",")[1];
                                                      var maker = addMarker1(new window.BMap.Point(p0, p1), i);

                                             }
                                             for(var i = 0; i < markerArr2.length; i++) {
                                                      var p0 = markerArr2[i].point.split(",")[0];
                                                      var p1 = markerArr2[i].point.split(",")[1];
                                                      var maker = addMarker2(new window.BMap.Point(p0, p1), i);

                                             }


// 添加标注
                                            function addMarker(point, index) {
                                                         var myIcon = new BMap.Icon("img/green5.png",
                                                               new BMap.Size(23, 25), {
                                                                        // offset: new BMap.Size(10, 25),
                                                                        //  imageOffset: new BMap.Size(0, 0 - index * 25)
                                                                 });
                                                                var marker = new BMap.Marker(point, {
                                                                      icon: myIcon
                                                                   });
                                                                  map.addOverlay(marker);
                                                                    return marker;
                                                }

                                            function addMarker1(point, index) {
                                                         var myIcon = new BMap.Icon("img/red5.png",
                                                               new BMap.Size(23, 25), {
                                                                        // offset: new BMap.Size(10, 25),
                                                                        //  imageOffset: new BMap.Size(0, 0 - index * 25)
                                                                 });
                                                                var marker = new BMap.Marker(point, {
                                                                      icon: myIcon
                                                                   });
                                                                  map.addOverlay(marker);
                                                                    return marker;
                                                }


                                            function addMarker2(point, index) {
                                                         var myIcon = new BMap.Icon("img/yellow5.png",
                                                               new BMap.Size(23, 25), {
                                                                        // offset: new BMap.Size(10, 25),
                                                                        //  imageOffset: new BMap.Size(0, 0 - index * 25)
                                                                 });
                                                                var marker = new BMap.Marker(point, {
                                                                      icon: myIcon
                                                                   });
                                                                  map.addOverlay(marker);
                                                                    return marker;
                                                }



      map.setMapStyle({ style: 'midnight' })
      $('#container').css('background-color', 'rgba(50,72,106,0.2)')

    </script>

  </body>
</html>
