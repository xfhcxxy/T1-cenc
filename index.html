
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="./img/favicon.ico" />
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./css/jq22.css" />
    <title>对中国地震台网进行大数据分析</title>
    <style>
      .BMap_scaleTxt{
        color: #fff!important;
      }
    </style>
  </head>
  <body>
    <div class="main" id="appIndex">
      <div class="header">
        <img
          style="width: 80px;height: 84px;margin-right: 20px;"
          src="img/logo.png"
          alt="更多资源：https://gitee.com/iGaoWei/big-data-view"
        />
        <img src="img/zgdztwdsjpt.png" alt="对中国地震台网进行大数据分析" />
        <div class="dateBox">
          <span id="time"
            >{{ year }}-{{ month }}-{{ date }}&nbsp;&nbsp; {{ hour }}:{{minute}}:{{ second }}&nbsp;&nbsp; {{ strDate }}
          </span>
        </div>
      </div>
      <div class="content">

        <div class="leftBox col-md-1">
          <div class="pot_all_pot" onclick="change_to_pot_all_pot()">
            <div>
              <img id="btcol1" src="img/点图.png" style="height: 200px;width: 100px;transform: translate(30px,-50px);"/>
            </div>
          </div>
          <div class="pot_market_pot" onclick="change_to_pot_market_pot()">
            <div>
              <img id="btcol2" src="img/带标记点图.png" style="height: 200px;width: 100px;transform: translate(30px,-50px);"/>
            </div>
          </div>
          <div class="heat_map_static" onclick="change_to_heat_map_static()">
            <div>
              <img id="btcol3" src="img/静态热力图.png" style="height: 200px;width: 100px;transform: translate(30px,-50px);"/>
            </div>
          </div>
          <div class="line_time_to_num" onclick="change_to_heat_map_dynamic()">
            <div>
              <img id="btcol4" src="img/动态热力图.png  " style="height: 200px;width: 100px;transform: translate(30px,-50px);"/>
            </div>
          </div>
        </div>
        <div class="middleBox col-md-8">
          <iframe id="on_show" class="frame_style" src="python/map/heat_map_dynamic.html" width="1200px" height="700px" scrolling="No"></iframe>
          <div class="tongjiList">
            <div class="bt_row1" onclick="change_to_line_time_to_num();setflag();">
              <img id="btrow1" src="img/时间次数图.png" style="height: 100px;width: 250px;transform: translate(0,-70px);"/>
            </div>
            <div class="bt_row2"  onclick="change_to_line_m_to_num()">
              <img id="btrow2" src="img/震级次数图.png" style="height: 100px;width: 250px;transform: translate(0,-70px);"/>
            </div>
            <div class="bt_row3" onclick="change_to_pie_m_to_num()">
              <img id="btrow3" src="img/震级饼图.png" style="height: 100px;width: 250px;transform: translate(0,-70px);"/>
            </div>
            <div class="bt_row4" onclick="change_to_word_cloud()">
              <img id="btrow4" src="img/震源云图.png" style="height: 100px;width: 250px;transform: translate(0,-70px);"/>
            </div>
          </div>
        </div>
        <div class="rightBox col-md-3">
          <div class="weihutj" >
            <div>
              <div style="margin-left: 20px;" class="pfTitle">
                <p class="title" style="font-family:'楷体';font-size: 25px; font-weight:bold; color:white;line-height:10%;" >查询</p>
              </div>
              <form id="frm" action method="post" class="inquiry-form" target="_blank">
                <div class="input-group">
                  <label for>时间:</label>
                  <input name="start" id="start" class="Wdate" style="width: 90px" type="text" onfocus="WdatePicker({lang:'zh-cn'})">
                  至
                  <input name="start" id="end" class="Wdate" style="width: 90px" type="text" onfocus="WdatePicker({lang:'zh-cn'})">
                </div>
                <div class="input-group">
                  <label for>纬度：</label>
                  <input type="text" value name="lat1" class="span1" id="lat1">
                  至
                  <input type="text" value name="lat2" class="span1" id="lat2">
                  <span style="margin-right: 60px"> 单位：度 范围：-90至90</span>
                </div>
                <div class="input-group">
                  <label for>经度：</label>
                  <input type="text" value name="lon1" class="span1" id="lon1">
                  至
                  <input type="text" value name="lon2" class="span1" id="lon2">
                  <span style="margin-right: 60px"> 单位：度 范围：-180至180</span>
                </div>
                <div class="input-group">
                  <label for>深度：</label>
                  <input type="text" value name="dep1" class="span1" id="dep1" list="depth-list1">
                  <datalist id="depth-list1">
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                    <option>13</option>
                    <option>14</option>
                    <option>15</option>
                    <option>16</option>
                    <option>17</option>
                    <option>18</option>
                    <option>19</option>
                    <option>20</option>
                    <option>21</option>
                    <option>22</option>
                    <option>23</option>
                    <option>24</option>
                    <option>25</option>
                    <option>26</option>
                    <option>27</option>
                    <option>28</option>
                    <option>29</option>
                    <option>30</option>
                    <option>40</option>
                    <option>50</option>
                    <option>60</option>
                    <option>70</option>
                    <option>80</option>
                    <option>90</option>
                    <option>100</option>
                    <option>150</option>
                    <option>200</option>
                    <option>250</option>
                    <option>300</option>
                    <option>350</option>
                    <option>400</option>
                    <option>450</option>
                    <option>500</option>
                    <option>600</option>
                    <option>700</option>
                    <option>800</option>
                    <option>900</option>
                    <option>1000</option>
                    <option>1500</option>
                  </datalist>
                  至
                  <input type="text" value name="dep2" class="span1" id="dep2" list="depth-list2">
                  <datalist id="depth-list2">
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                    <option>13</option>
                    <option>14</option>
                    <option>15</option>
                    <option>16</option>
                    <option>17</option>
                    <option>18</option>
                    <option>19</option>
                    <option>20</option>
                    <option>21</option>
                    <option>22</option>
                    <option>23</option>
                    <option>24</option>
                    <option>25</option>
                    <option>26</option>
                    <option>27</option>
                    <option>28</option>
                    <option>29</option>
                    <option>30</option>
                    <option>40</option>
                    <option>50</option>
                    <option>60</option>
                    <option>70</option>
                    <option>80</option>
                    <option>90</option>
                    <option>100</option>
                    <option>150</option>
                    <option>200</option>
                    <option>250</option>
                    <option>300</option>
                    <option>350</option>
                    <option>400</option>
                    <option>450</option>
                    <option>500</option>
                    <option>600</option>
                    <option>700</option>
                    <option>800</option>
                    <option>900</option>
                    <option>1000</option>
                    <option>1500</option>
                  </datalist>
                  <span style="margin-right: 60px"> 单位：千米</span>
                </div>
                <div class="input-group">
                  <label for>震级：</label>
                  <input type="text" value name="m1" class="span1" id="m1" list="level-list1">
                  <datalist id="level-list1">
　　                <option>1.0</option>
　　                <option>1.1</option>
                    <option>1.2</option>
                    <option>1.3</option>
                    <option>1.4</option>
                    <option>1.5</option>
                    <option>1.6</option>
                    <option>1.7</option>
                    <option>1.8</option>
                    <option>1.9</option>
                    <option>1.0</option>
　　                <option>2.1</option>
                    <option>2.2</option>
                    <option>2.3</option>
                    <option>2.4</option>
                    <option>2.5</option>
                    <option>2.6</option>
                    <option>2.7</option>
                    <option>2.8</option>
                    <option>2.9</option>
                    <option>3.0</option>
　　                <option>3.1</option>
                    <option>3.2</option>
                    <option>3.3</option>
                    <option>3.4</option>
                    <option>3.5</option>
                    <option>3.6</option>
                    <option>3.7</option>
                    <option>3.8</option>
                    <option>3.9</option>
                    <option>4.0</option>
　　                <option>4.1</option>
                    <option>4.2</option>
                    <option>4.3</option>
                    <option>4.4</option>
                    <option>4.5</option>
                    <option>4.6</option>
                    <option>4.7</option>
                    <option>4.8</option>
                    <option>4.9</option>
                    <option>5.0</option>
　　                <option>5.1</option>
                    <option>5.2</option>
                    <option>5.3</option>
                    <option>5.4</option>
                    <option>5.5</option>
                    <option>5.6</option>
                    <option>5.7</option>
                    <option>5.8</option>
                    <option>5.9</option>
                    <option>6.0</option>
　　                <option>6.1</option>
                    <option>6.2</option>
                    <option>6.3</option>
                    <option>6.4</option>
                    <option>6.5</option>
                    <option>6.6</option>
                    <option>6.7</option>
                    <option>6.8</option>
                    <option>6.9</option>
                    <option>7.0</option>
　　                <option>7.1</option>
                    <option>7.2</option>
                    <option>7.3</option>
                    <option>7.4</option>
                    <option>7.5</option>
                    <option>7.6</option>
                    <option>7.7</option>
                    <option>7.8</option>
                    <option>7.9</option>
                    <option>8.0</option>
　　                <option>8.1</option>
                    <option>8.2</option>
                    <option>8.3</option>
                    <option>8.4</option>
                    <option>8.5</option>
                    <option>8.6</option>
                    <option>8.7</option>
                    <option>8.8</option>
                    <option>8.9</option>
                    <option>9.0</option>
　　                <option>9.1</option>
                    <option>9.2</option>
                    <option>9.3</option>
                    <option>9.4</option>
                    <option>9.5</option>
                  </datalist>
                  至
                  <input type="text" value name="m2" class="span1" id="m2" list="level-list2">
                  <datalist id="level-list2">
　　                <option>1.0</option>
　　                <option>1.1</option>
                    <option>1.2</option>
                    <option>1.3</option>
                    <option>1.4</option>
                    <option>1.5</option>
                    <option>1.6</option>
                    <option>1.7</option>
                    <option>1.8</option>
                    <option>1.9</option>
                    <option>1.0</option>
　　                <option>2.1</option>
                    <option>2.2</option>
                    <option>2.3</option>
                    <option>2.4</option>
                    <option>2.5</option>
                    <option>2.6</option>
                    <option>2.7</option>
                    <option>2.8</option>
                    <option>2.9</option>
                    <option>3.0</option>
　　                <option>3.1</option>
                    <option>3.2</option>
                    <option>3.3</option>
                    <option>3.4</option>
                    <option>3.5</option>
                    <option>3.6</option>
                    <option>3.7</option>
                    <option>3.8</option>
                    <option>3.9</option>
                    <option>4.0</option>
　　                <option>4.1</option>
                    <option>4.2</option>
                    <option>4.3</option>
                    <option>4.4</option>
                    <option>4.5</option>
                    <option>4.6</option>
                    <option>4.7</option>
                    <option>4.8</option>
                    <option>4.9</option>
                    <option>5.0</option>
　　                <option>5.1</option>
                    <option>5.2</option>
                    <option>5.3</option>
                    <option>5.4</option>
                    <option>5.5</option>
                    <option>5.6</option>
                    <option>5.7</option>
                    <option>5.8</option>
                    <option>5.9</option>
                    <option>6.0</option>
　　                <option>6.1</option>
                    <option>6.2</option>
                    <option>6.3</option>
                    <option>6.4</option>
                    <option>6.5</option>
                    <option>6.6</option>
                    <option>6.7</option>
                    <option>6.8</option>
                    <option>6.9</option>
                    <option>7.0</option>
　　                <option>7.1</option>
                    <option>7.2</option>
                    <option>7.3</option>
                    <option>7.4</option>
                    <option>7.5</option>
                    <option>7.6</option>
                    <option>7.7</option>
                    <option>7.8</option>
                    <option>7.9</option>
                    <option>8.0</option>
　　                <option>8.1</option>
                    <option>8.2</option>
                    <option>8.3</option>
                    <option>8.4</option>
                    <option>8.5</option>
                    <option>8.6</option>
                    <option>8.7</option>
                    <option>8.8</option>
                    <option>8.9</option>
                    <option>9.0</option>
　　                <option>9.1</option>
                    <option>9.2</option>
                    <option>9.3</option>
                    <option>9.4</option>
                    <option>9.5</option>
                  </datalist>
                  <button type="button" onclick="open_draw()">查询</button>
                  <!--<a href="myprotocol:// -$('#m1').val()" >查询</a> -->
                </div>
                <div class="input-group">
                  <button type="button" onclick="update_data()">更新数据</button>
                  <button type="button" onclick="window.location.href='https://news.ceic.ac.cn'">地震台网</button>
                </div>
              </form>
            </div>
          </div>
          <div class="guzhangtj">
                <div class="basic-info">
                  <iframe id="five_show" class="frame_style" src="python/map/latest_5.html" width="500px" height="380px" scrolling="No" style="border: none;"></iframe>
                </div>
          </div>
          <div class="ranklist">
                <iframe id="top_show" class="frame_style" src="python/map/rank_list_dynamic.html" width="460px" height="300px" scrolling="No"></iframe>
          </div>
        </div>
      </div>
    </div>
    <script src="js/WdatePicker/WdatePicker.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/vue.min.js"></script>
    <script src="js/echarts.min.js"></script>
    <script src="js/walden.js"></script>
    <script src="js/roma.js"></script>
    <script src="js/jquery.countUp.js"></script>
    <script
      type="text/javascript"
      src="https://api.map.baidu.com/api?v=2.0&ak=2YCQxbGampc7M1pFsKWNiwpS5F7RKVRt&s=1"
    ></script>
    <script src="js/fontscroll.js"></script>
    <script src="js/main.js"></script>
    <script src="js/echart.js"></script>
    <script src="js/watch.js"></script>
    <script type="text/javascript">

      var flags = {
        heat_map_dynamic_flag:0,
        heat_map_static_flag:0,
        line_m_to_num_flag:0,
        line_time_to_num_flag:0,
        pie_m_to_num_flag:0,
        pot_all_pot_flag:0,
        pot_market_pot_flag:0,
        word_cloud_flag:0
      }

      var markerArr = [

{
  point: "103.850585,36.069335",
},

{
   point: "103.86812,36.063267",
 },
 {
   point: "103.856047,36.042024",
 },
 {
  point: "103.841674,36.067235",
},

{
   point: "103.953207,36.031751",
 },
 {
   point: "103.801573,36.073886",
 },
 {
  point: "103.819108,36.068168",
},

{
   point: "103.715954,36.099723",
 },
 {
   point: "103.716573,36.101553",
 },
 {
  point: "103.708129,36.100725",
},

{
   point: "103.712378,36.10171",
 },
 {
   point: "103.711467,36.103415",
 },
 {
  point: "103.70226,36.102388",
},

{
   point: "103.714764,36.100639",
 },
 {
   point: "103.700535,36.110261",
 }

];

var markerArr1 = [

{
  point: "103.865245,36.061166",
},

{
   point: "103.773259,36.077037",
 },
 {
   point: "103.910664,36.05323",
 },
 {
  point: "103.768085,36.108768",
},

{
   point: "103.689896,36.107835",
 },
 {
   point: "103.841099,36.074236",
 },
 {
  point: "103.839949,36.056965",
},

{
   point: "103.886517,36.065368",
 },
 {
   point: "103.815228,36.091504",
 },
 {
  point: "103.870995,36.026147",
},

];

var markerArr2 = [

{
  point: "103.784757,36.059533",
},

{
   point: "103.754862,36.067235",
 },
 {
   point: "103.779008,36.135589",
 },
 {
  point: "103.839374,36.095704",
},

{
   point: "103.693633,36.116932",
 },
 {
   point: "103.946021,36.034553",
 },
 {
  point: "103.967868,36.00466",
},

{
   point: "103.679835,36.114833",
 },
 {
   point: "103.977641,36.055564",
 },
 {
  point: "103.856334,36.060233",
},

];
      function reset_all_bt(){
        flags.heat_map_dynamic_flag=0
        flags.heat_map_static_flag=0
        flags.line_m_to_num_flag=0
        flags.line_time_to_num_flag=0
        flags.pie_m_to_num_flag=0
        flags.pot_all_pot_flag=0
        flags.pot_market_pot_flag=0
        flags.word_cloud_flag=0
        document.getElementById('btrow1').src="img/时间次数图.png"
        document.getElementById('btrow2').src="img/震级次数图.png"
        document.getElementById('btrow3').src="img/震级饼图.png"
        document.getElementById('btrow4').src="img/震源云图.png"
        document.getElementById('btcol1').src="img/点图.png"
        document.getElementById('btcol2').src="img/带标记点图.png"
        document.getElementById('btcol3').src="img/静态热力图.png"
        document.getElementById('btcol4').src="img/动态热力图.png"
      }
      function change_to_pot_all_pot(){
        document.getElementById('on_show').src="./python/map/pot_all_pot.html"
        var imgid = document.getElementById('btcol1')
        reset_all_bt()
        flags.pot_all_pot_flag=1;
        if(flags.pot_all_pot_flag){
          imgid.src="img/点图按下.png"
        }else{
          imgid.src="img/点图.png"
        }
      }
      function change_to_pot_market_pot(){
        document.getElementById('on_show').src="./python/map/pot_market_pot.html"
        var imgid = document.getElementById('btcol2')
        reset_all_bt()
        flags.pot_market_pot_flag=1;
        if(flags.pot_market_pot_flag){
          imgid.src="img/带标记点图按下.png"
        }else{
          imgid.src="img/带标记点图.png"
        }
      }
      function change_to_heat_map_static(){
        document.getElementById('on_show').src="./python/map/heat_map_static.html"
        var imgid = document.getElementById('btcol3')
        reset_all_bt()
        flags.heat_map_static_flag=1;
        if(flags.heat_map_static_flag){
          imgid.src="img/静态热力图按下.png"
        }else{
          imgid.src="img/静态热力图.png"
        }
      }
      function change_to_heat_map_dynamic(){
        document.getElementById('on_show').src="./python/map/heat_map_dynamic.html"
        var imgid = document.getElementById('btcol4')
        reset_all_bt()
        flags.heat_map_dynamic_flag=1;
        if(flags.heat_map_dynamic_flag){
          imgid.src="img/动态热力图按下.png"
        }else{
          imgid.src="img/动态热力图.png"
        }
      }
      function change_to_line_time_to_num(){
        var imgid=document.getElementById('btrow1')
        document.getElementById('on_show').src="./python/map/line_time_to_num.html"
        reset_all_bt();
        flags.line_time_to_num_flag=1;
        if(flags.line_time_to_num_flag){
          imgid.src="img/时间次数图按下.png"
        }else{
          imgid.src="img/时间次数图.png"
        }
      }
      function change_to_line_m_to_num(){
        
        document.getElementById('on_show').src="./python/map/line_m_to_num.html"
        var imgid=document.getElementById('btrow2')
        reset_all_bt();
        flags.line_m_to_num_flag=1;
        if(flags.line_m_to_num_flag){
          imgid.src="img/震级次数图按下.png"
        }else{
          imgid.src="img/震级次数图.png"
        }
      }
      function change_to_word_cloud(){
        document.getElementById('on_show').src="./python/map/word_cloud.html"
        var imgid=document.getElementById('btrow4')
        reset_all_bt();
        flags.word_cloud_flag=1;
        if(flags.word_cloud_flag){
          imgid.src="img/震源云图按下.png"
        }else{
          imgid.src="img/震源云图.png"
        }
      }
      function change_to_pie_m_to_num(){
        document.getElementById('on_show').src="./python/map/pie_m_to_num.html"
        var imgid=document.getElementById('btrow3')
        reset_all_bt();
        flags.pie_m_to_num_flag=1;
        if(flags.pie_m_to_num_flag){
          imgid.src="img/震级饼图按下.png"
        }else{
          imgid.src="img/震级饼图.png"
        }
      }
      function change_to_rank_list_dynamic(){
        document.getElementById('on_show').src="./python/map/rank_list_dynamic.html"
      }
      function open_draw(){
        var com = "myprotocol://"+"&-"+$('#m1').val()+"&-"+$('#m2').val()+"&-"+$('#start').val()+"&-"+
                                      $('#end').val()+"&-"+$('#lat1').val()+"&-"+$('#lat2').val()+"&-"+
                                      $('#lon1').val()+"&-"+$('#lon2').val()+"&-"+ $('#dep1').val()+"&-"+$('#dep2').val();

        window.open(com, '_self');
        setTimeout(function (){
            document.getElementById('on_show').src=document.getElementById('on_show').src;
            document.getElementById('top_show').src=document.getElementById('top_show').src;
        }, 30000);
      }
      function update_data(){
        window.open("myprotocol-main://", '_self');
      }
      var map = new BMap.Map('container')
      // 创建地图实例
      var point = new BMap.Point(103.71878, 36.10396)
      // 创建点坐标
      map.centerAndZoom(point, 15)
      // 初始化地图，设置中心点坐标和地图级别
      map.enableScrollWheelZoom(true)
      var ctrlSca = new window.BMap.ScaleControl({
                                                anchor: BMAP_ANCHOR_BOTTOM_RIGHT
                                            });
                                           map.addControl(ctrlSca);
      for(var i = 0; i < markerArr.length; i++) {
                                                      var p0 = markerArr[i].point.split(",")[0];
                                                      var p1 = markerArr[i].point.split(",")[1];
                                                      var maker = addMarker(new window.BMap.Point(p0, p1), i);

                                             }

                                             for(var i = 0; i < markerArr1.length; i++) {
                                                      var p0 = markerArr1[i].point.split(",")[0];
                                                      var p1 = markerArr1[i].point.split(",")[1];
                                                      var maker = addMarker1(new window.BMap.Point(p0, p1), i);

                                             }
                                             for(var i = 0; i < markerArr2.length; i++) {
                                                      var p0 = markerArr2[i].point.split(",")[0];
                                                      var p1 = markerArr2[i].point.split(",")[1];
                                                      var maker = addMarker2(new window.BMap.Point(p0, p1), i);

                                             }


// 添加标注
                                            function addMarker(point, index) {
                                                         var myIcon = new BMap.Icon("img/green5.png",
                                                               new BMap.Size(23, 25), {
                                                                        // offset: new BMap.Size(10, 25),
                                                                        //  imageOffset: new BMap.Size(0, 0 - index * 25)
                                                                 });
                                                                var marker = new BMap.Marker(point, {
                                                                      icon: myIcon
                                                                   });
                                                                  map.addOverlay(marker);
                                                                    return marker;
                                                }

                                            function addMarker1(point, index) {
                                                         var myIcon = new BMap.Icon("img/red5.png",
                                                               new BMap.Size(23, 25), {
                                                                        // offset: new BMap.Size(10, 25),
                                                                        //  imageOffset: new BMap.Size(0, 0 - index * 25)
                                                                 });
                                                                var marker = new BMap.Marker(point, {
                                                                      icon: myIcon
                                                                   });
                                                                  map.addOverlay(marker);
                                                                    return marker;
                                                }


                                            function addMarker2(point, index) {
                                                         var myIcon = new BMap.Icon("img/yellow5.png",
                                                               new BMap.Size(23, 25), {
                                                                        // offset: new BMap.Size(10, 25),
                                                                        //  imageOffset: new BMap.Size(0, 0 - index * 25)
                                                                 });
                                                                var marker = new BMap.Marker(point, {
                                                                      icon: myIcon
                                                                   });
                                                                  map.addOverlay(marker);
                                                                    return marker;
                                                }



      map.setMapStyle({ style: 'midnight' })
      $('#container').css('background-color', 'rgba(50,72,106,0.2)')

    </script>
    
  </body>
</html>
